<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Use the title from a page's frontmatter if it has one -->
    <title>Limit Edits to an Authenticated Admin</title>
    <link href="../../stylesheets/site.css" rel="stylesheet" />
    <script src="../../javascripts/site.js"></script>
  </head>
  <body class="page">
    <header class="header">
      <h1 class="header__name">
<a href="../../">          content-authoring
</a>      </h1>


      <nav class="
        header__navigation
        navigation
        
      ">
<a href="../609ed2ae56010a5d4b2e1245b6d3fe9255fcd0a1/">              &#8592; Previous
</a>
<a href="../9a43f771874f466800135890e83ddf1336607103/">              Next &#8594;
</a>      </nav>
    </header>

    <main class="content">
      <details class="accordion content__item">
        <summary class="accordion__summary">
          <div class="accordion__closed">
            <nav class="
              commit-history
              u-db-overflow-y--auto
              u-mb-overflow-x--scroll
            ">
                <a href="../47daff4aeed389fbd952a13ed16244af01500ede/" class="commit-node commit-node--collapsed" title="[SKIP]: Create `git-read` GitHub Action
"></a>
                <a href="../2702ec7345d931b77b59ae6021d11d93c52a9884/" class="commit-node commit-node--collapsed" title="[GENERATED]: Initial Commit
"></a>
                <a href="../09a47f32c1e9a7096e5bd02c19533e36ceb3ca2a/" class="commit-node commit-node--collapsed" title="[GENERATED]: Install ActiveStorage and ActionText
"></a>
                <a href="../6c6533dbbdac50306e018cfa6c5c50edaeb33e81/" class="commit-node commit-node--collapsed" title="[SKIP]: Install TailwindCSS
"></a>
                <a href="../c38868b2f7cc380d2177ecd7d9f5f2b74d240ae2/" class="commit-node commit-node--collapsed" title="Internationalization
"></a>
                <a href="../53464a11e615c44bce9fa2494ad98d84f3fb78ab/" class="commit-node commit-node--collapsed" title="Add style to our page
"></a>
                <a href="../609ed2ae56010a5d4b2e1245b6d3fe9255fcd0a1/" class="commit-node commit-node--collapsed" title="Tweak our Copy until it's _just_ right
"></a>
                <a href="./" class="commit-node commit-node--collapsed" title="Limit Edits to an Authenticated Admin" aria-current="page"></a>
                <a href="../9a43f771874f466800135890e83ddf1336607103/" class="commit-node commit-node--collapsed" title="Add support for rendering Rich Text translations"></a>
                <a href="../b582557c458f953fa25eab6d21c372d9c93807a3/" class="commit-node commit-node--collapsed" title="Support Translation Interpolations"></a>
                <a href="../817101a8a19ea0bb50e0a06c4164aac68b217232/" class="commit-node commit-node--collapsed" title="Maintain scrollY across Turbolinks submit redirect"></a>
            </nav>

            <div class="accordion__toggle">
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="accordion--desktop"><title>Expand History</title>
  <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 01.708 0l6 6a.5.5 0 010 .708l-6 6a.5.5 0 01-.708-.708L10.293 8 4.646 2.354a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="accordion--mobile"><title>Expand History</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>

            </div>
          </div>

          <div class="accordion__opened">
            <div class="accordion__toggle accordion__toggle--fill">
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="accordion--desktop"><title>Collapse History</title>
  <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 010 .708L5.707 8l5.647 5.646a.5.5 0 01-.708.708l-6-6a.5.5 0 010-.708l6-6a.5.5 0 01.708 0z" clip-rule="evenodd"></path>
</svg>


              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="accordion--mobile"><title>Collapse History</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>

            </div>
          </div>
        </summary>

        <nav class="
          commit-history
          commit-history--full
          u-db-overflow-y--auto
          u-mb-overflow-x--scroll
        ">
<a href="../47daff4aeed389fbd952a13ed16244af01500ede/" class="commit-node commit-node--full">              <p>[SKIP]: Create <code>git-read</code> GitHub Action</p>

</a><a href="../2702ec7345d931b77b59ae6021d11d93c52a9884/" class="commit-node commit-node--full">              <p>[GENERATED]: Initial Commit</p>

</a><a href="../09a47f32c1e9a7096e5bd02c19533e36ceb3ca2a/" class="commit-node commit-node--full">              <p>[GENERATED]: Install ActiveStorage and ActionText</p>

</a><a href="../6c6533dbbdac50306e018cfa6c5c50edaeb33e81/" class="commit-node commit-node--full">              <p>[SKIP]: Install TailwindCSS</p>

</a><a href="../c38868b2f7cc380d2177ecd7d9f5f2b74d240ae2/" class="commit-node commit-node--full">              <p>Internationalization</p>

</a><a href="../53464a11e615c44bce9fa2494ad98d84f3fb78ab/" class="commit-node commit-node--full">              <p>Add style to our page</p>

</a><a href="../609ed2ae56010a5d4b2e1245b6d3fe9255fcd0a1/" class="commit-node commit-node--full">              <p>Tweak our Copy until it&#39;s <em>just</em> right</p>

</a><a href="./" class="commit-node commit-node--full" aria-current="page">              <p>Limit Edits to an Authenticated Admin</p>

</a><a href="../9a43f771874f466800135890e83ddf1336607103/" class="commit-node commit-node--full">              <p>Add support for rendering Rich Text translations</p>

</a><a href="../b582557c458f953fa25eab6d21c372d9c93807a3/" class="commit-node commit-node--full">              <p>Support Translation Interpolations</p>

</a><a href="../817101a8a19ea0bb50e0a06c4164aac68b217232/" class="commit-node commit-node--full">              <p>Maintain scrollY across Turbolinks submit redirect</p>

</a>        </nav>
      </details>

      <article class="
        commit-content
        commit-content--double
        content__item
        content__item--grow
      ">
        <section class="commit commit--message">

          <h1 id="limit-edits-to-an-authenticated-admin">Limit Edits to an Authenticated Admin</h1>

        </section>

          <aside class="commit commit--diff commit--long-content">
              <details
  id="app/controllers/admin/application_controller.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/controllers/admin/application_controller.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/controllers/admin/application_controller.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/controllers/admin/application_controller.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/controllers/admin/application_controller.rb b/app/controllers/admin/application_controller.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..b3322fe
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/app/controllers/admin/application_controller.rb
</span><span class="p">@@ -0,0 +1,5 @@</span>
<span class="gi">+module Admin
+  class ApplicationController &lt; ::ApplicationController
+    before_action { head :forbidden unless request.variant.admin? }
+  end
+end
</span></code></pre></div></details>

              <details
  id="app/controllers/admin/translations_controller.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/controllers/admin/translations_controller.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/controllers/admin/translations_controller.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/controllers/admin/translations_controller.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/controllers/admin/translations_controller.rb b/app/controllers/admin/translations_controller.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..a360641
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/app/controllers/admin/translations_controller.rb
</span><span class="p">@@ -0,0 +1,19 @@</span>
<span class="gi">+module Admin
+  class TranslationsController &lt; ApplicationController
+    def create
+      translation = Translation.new(translation_params)
+
+      if translation.save
+        redirect_back fallback_location: root_url
+      else
+        head :unprocessable_entity
+      end
+    end
+
+    private
+
+    def translation_params
+      params.require(:translation).permit(:locale, :key, :value)
+    end
+  end
+end
</span></code></pre></div></details>

              <details
  id="app/controllers/application_controller.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/controllers/application_controller.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/controllers/application_controller.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/controllers/application_controller.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/controllers/application_controller.rb b/app/controllers/application_controller.rb
index 09705d1..e684d65 100644
</span><span class="gd">--- a/app/controllers/application_controller.rb
</span><span class="gi">+++ b/app/controllers/application_controller.rb
</span><span class="p">@@ -1,2 +1,3 @@</span>
 class ApplicationController &lt; ActionController::Base
<span class="gi">+  before_action { request.variant = :admin if cookies[:admin] }
</span> end
</code></pre></div></details>

              <details
  id="app/controllers/sessions_controller.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/controllers/sessions_controller.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/controllers/sessions_controller.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/controllers/sessions_controller.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/controllers/sessions_controller.rb b/app/controllers/sessions_controller.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..35b3c8c
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/app/controllers/sessions_controller.rb
</span><span class="p">@@ -0,0 +1,13 @@</span>
<span class="gi">+class SessionsController &lt; ApplicationController
+  def create
+    cookies[:admin] = true
+
+    redirect_back fallback_location: root_url
+  end
+
+  def destroy
+    cookies.delete(:admin)
+
+    redirect_back fallback_location: root_url
+  end
+end
</span></code></pre></div></details>

              <details
  id="app/views/application/_header.html.erb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/views/application/_header.html.erb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/views/application/_header.html.erb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/views/application/_header.html.erb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/views/application/_header.html.erb b/app/views/application/_header.html.erb
index 1216183..bfb5bcc 100644
</span><span class="gd">--- a/app/views/application/_header.html.erb
</span><span class="gi">+++ b/app/views/application/_header.html.erb
</span><span class="p">@@ -32,11 +32,17 @@</span>
 
       &lt;ul class="list-reset lg:flex justify-end flex-1 items-center"&gt;
         &lt;li class="mr-3"&gt;
<span class="gd">-          &lt;a
-            class="inline-block py-2 px-4 text-black font-bold no-underline"
-            href="#"
-            &gt;Active&lt;/a
-          &gt;
</span><span class="gi">+          &lt;% with_options class: "inline-block py-2 px-4 text-black font-bold no-underline" do |admin| %&gt;
+            &lt;% if request.variant.admin? %&gt;
+              &lt;%= admin.button_to session_path, method: :delete do %&gt;
+                Preview
+              &lt;% end %&gt;
+            &lt;% else %&gt;
+              &lt;%= admin.button_to sessions_path, method: :post do %&gt;
+                Edit
+              &lt;% end %&gt;
+            &lt;% end %&gt;
+          &lt;% end %&gt;
</span>         &lt;/li&gt;
         &lt;li class="mr-3"&gt;
           &lt;a
</code></pre></div></details>

              <details
  id="app/views/translations/_translation.html+admin.erb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/views/translations/_translation.html+admin.erb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/views/translations/_translation.html+admin.erb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/views/translations/_translation.html+admin.erb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/views/translations/_translation.html+admin.erb b/app/views/translations/_translation.html+admin.erb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..4dd9a18
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/app/views/translations/_translation.html+admin.erb
</span><span class="p">@@ -0,0 +1 @@</span>
<span class="gi">+&lt;%= render "translations/form", translation: translation %&gt;
</span></code></pre></div></details>

              <details
  id="app/views/translations/_translation.html.erb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/views/translations/_translation.html.erb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/views/translations/_translation.html.erb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/views/translations/_translation.html.erb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/views/translations/_translation.html.erb b/app/views/translations/_translation.html.erb
index 4dd9a18..0a71547 100644
</span><span class="gd">--- a/app/views/translations/_translation.html.erb
</span><span class="gi">+++ b/app/views/translations/_translation.html.erb
</span><span class="p">@@ -1 +1 @@</span>
<span class="gd">-&lt;%= render "translations/form", translation: translation %&gt;
</span><span class="gi">+&lt;%= translation %&gt;
</span></code></pre></div></details>

              <details
  id="config/routes.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse config/routes.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand config/routes.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      config/routes.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/config/routes.rb b/config/routes.rb
index 9782e5e..11c457d 100644
</span><span class="gd">--- a/config/routes.rb
</span><span class="gi">+++ b/config/routes.rb
</span><span class="p">@@ -1,6 +1,11 @@</span>
 Rails.application.routes.draw do
   # For details on the DSL available within this file, see https://guides.rubyonrails.org/routing.html
<span class="gd">-  resources :translations, only: :create
</span><span class="gi">+  scope module: :admin do
+    resources :translations, only: :create
+  end
+
+  resources :sessions, only: :create
+  resource :session, only: :destroy
</span> 
   root to: "marketings#index"
 end
</code></pre></div></details>

              <details
  id="test/controllers/translations_controller_test.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/controllers/translations_controller_test.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/controllers/translations_controller_test.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/controllers/translations_controller_test.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/controllers/translations_controller_test.rb b/test/controllers/admin/translations_controller_test.rb
</span><span class="p">similarity index 70%
rename from test/controllers/translations_controller_test.rb
rename to test/controllers/admin/translations_controller_test.rb
</span><span class="gh">index 335dd55..8b03371 100644
</span><span class="gd">--- a/test/controllers/translations_controller_test.rb
</span><span class="gi">+++ b/test/controllers/admin/translations_controller_test.rb
</span><span class="p">@@ -1,8 +1,9 @@</span>
 require "test_helper"
 
<span class="gd">-class TranslationsControllerTest &lt; ActionDispatch::IntegrationTest
</span><span class="gi">+class Admin::TranslationsControllerTest &lt; ActionDispatch::IntegrationTest
</span>   test "#create with a valid Translation persists it to the I18n backend" do
     with_translations en: { key: "value" } do
<span class="gi">+      post sessions_path
</span>       post translations_path, params: {
         translation: { locale: :en, key: "key", value: "new value" }
       }
<span class="p">@@ -14,6 +15,7 @@</span> class TranslationsControllerTest &lt; ActionDispatch::IntegrationTest
 
   test "#create with an valid Translation responds with an error" do
     with_translations en: {} do
<span class="gi">+      post sessions_path
</span>       post translations_path, params: {
         translation: { locale: :en, key: "missing", value: "" }
       }
<span class="p">@@ -21,4 +23,10 @@</span> class TranslationsControllerTest &lt; ActionDispatch::IntegrationTest
       assert_response :unprocessable_entity
     end
   end
<span class="gi">+
+  test "#create without authenticating responds with a Not Found status" do
+    post translations_path
+
+    assert_response :forbidden
+  end
</span> end
</code></pre></div></details>

              <details
  id="test/controllers/marketings_controller_test.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/controllers/marketings_controller_test.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/controllers/marketings_controller_test.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/controllers/marketings_controller_test.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/controllers/marketings_controller_test.rb b/test/controllers/marketings_controller_test.rb
index 6e05b54..f305cfb 100644
</span><span class="gd">--- a/test/controllers/marketings_controller_test.rb
</span><span class="gi">+++ b/test/controllers/marketings_controller_test.rb
</span><span class="p">@@ -3,7 +3,18 @@</span> require "test_helper"
 class MarketingsControllerTest &lt; ActionDispatch::IntegrationTest
   include ActionView::Helpers::TranslationHelper
 
<span class="gd">-  test "#index renders editors for copy" do
</span><span class="gi">+  test "#index renders marketing copy" do
+    get root_path
+
+    assert_response :success
+    with_options scope: [:marketings, :index, :hero] do |i18n|
+      assert_select "title", text: i18n.translate(:title)
+      assert_select "h1", text: i18n.translate(:title)
+    end
+  end
+
+  test "#index renders editors for copy when authenticated" do
+    post sessions_path
</span>     get root_path
 
     assert_response :success
</code></pre></div></details>

              <details
  id="test/system/translations_test.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/system/translations_test.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/system/translations_test.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/system/translations_test.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/system/translations_test.rb b/test/system/translations_test.rb
index c900990..86fa8e6 100644
</span><span class="gd">--- a/test/system/translations_test.rb
</span><span class="gi">+++ b/test/system/translations_test.rb
</span><span class="p">@@ -8,6 +8,7 @@</span> class TranslationsTest &lt; ApplicationSystemTestCase
       translation = translate("marketings.index.hero.title")
 
       visit root_path
<span class="gi">+      click_on "Edit"
</span>       within "h1", text: translation do
         find(:rich_text_area).click
         fill_in_rich_text_area with: "New Hero Title"
</code></pre></div></details>

          </aside>
      </article>
    </main>
  </body>
</html>
