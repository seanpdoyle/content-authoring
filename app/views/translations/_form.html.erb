<%= form_with model: translation, html: {
  class: "relative",
  data: {
    controller: "trix-form",
    action: "
      trix-file-accept->trix-form#reject
      trix-focus@document->trix-form#dismissDismissUnlessFocused
      click@document->trix-form#dismissUnlessContained
      focusout->trix-form#dismissUnlessContained
      reset->trix-form#dismiss
    "
  }
} do |form| %>
  <%= form.hidden_field :locale %>
  <%= form.hidden_field :key %>

  <trix-toolbar id="<%= dom_id(translation, :toolbar) %>" hidden>
    <div class="trix-button-row trix-button-row--end">
      <span class="trix-button-group">
        <%= render "trix_button", type: :submit, title: "Save" do %>
          <svg class="text-green-500" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
            <title>Save</title>
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <path d="M5 12l5 5l10 -10" />
          </svg>
        <% end %>

        <%= render "trix_button", type: :reset, title: "Cancel" do %>
          <svg class="text-red-500" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
            <title>Cancel</title>
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <line x1="18" y1="6" x2="6" y2="18" />
            <line x1="6" y1="6" x2="18" y2="18" />
          </svg>
        <% end %>
      </span>
    </div>
  </trix-toolbar>

  <%= rich_text_area_tag "translation[value]", translation.value,
    aria: { label: translation.key },
    data: { trix_form_target: "editor" },
    class: "outline-none focus:shadow-outline min-h-0 border-0 p-0",
    toolbar: dom_id(translation, :toolbar) %>
<% end %>
